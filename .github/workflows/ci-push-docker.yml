on:
  workflow_call:
    inputs:
      run-name:
        required: false
        type: string

name: Docker_push
run-name: ${{inputs.run-name}}

jobs:
  Push:
    
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: docker login
        env:
          DOCKER_USER: ${{secrets.DOCKER_SECRETS_USER}}
          DOCKER_PASSWORD: ${{secrets.DOCKER_SECRETS_PASS}}
          repository: iliberona/devsecops-final:latest
        run: |
          docker login -u $DOCKER_SECRETS_USER -p $DOCKER_SECRETS_PASS
          
      - name: List images
        run: docker images    
      - name: Docker Push
        run: docker push ${{secrets.DOCKER_SECRETS_USER}}/devsecops-final:latest

